--- linux-2.6.18/net/ipv4/igmp.c.orig	2006-09-30 17:20:29.000000000 +0200
+++ linux-2.6.18/net/ipv4/igmp.c	2006-09-30 17:20:39.000000000 +0200
@@ -106,7 +106,7 @@
 #include <linux/seq_file.h>
 #endif
 
-#define IP_MAX_MEMBERSHIPS	20
+#define IP_MAX_MEMBERSHIPS	128
 #define IP_MAX_MSF		10
 
 #ifdef CONFIG_IP_MULTICAST
